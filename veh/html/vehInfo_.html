
<table class="basetable" cellspacing="0" cellpadding="0">
	<tr>
		<td class="tl"><label>预约号：</label></td >
		<td class="tc">
			<input class="easyui-textbox" sid="bookNumber" id="veh_bookNumber" name="bookNumber" prompt='请输入预约号' >
		</td>
		<td class="tl"><label>验证码：</label>
		</td >
		<td class="tc" colspan="3" >
			<input class="easyui-textbox vehInfoInput" sid="verifyCode" id="veh_verifyCode" name="verifyCode" " prompt='请输入验证码'  >
			<a class="easyui-linkbutton" data-options="iconCls:'icon-search'" style="width:30px" onclick="getVehInfobyBookNumber()"></a>
		</td>
	</tr>
	<tr>
		<td class="tl"><label>号牌号码：</label></td >
		<td class="tc">
			<input name="sf" required="true" sid="sf" data-options="data:comm.getBaseParames('sf'),valueField: 'id',
		textField: 'value'"  class="easyui-combobox" style="width: 40px;">&nbsp;&nbsp;
			<input class="easyui-textbox" sid="hphm" style="width: 60px;" name="hphm" required="true" data-options="onChange:veh.uphphm,validType:'length[5,8]'">
		</td>
		<td class="tl"><label>号牌种类：</label>
		</td>
			<td class="tc"><input class="easyui-combobox vehInfoInput" data-options="editable:false,data:comm.getBaseParames('hpzl'),	valueField: 'id',
		textField: 'value'" sid="hpzl" name="hpzl" " prompt='请选择号牌种类' required="true">
		</td>
		<td class="tl"><label>车辆识别代号：</label></td>
		<td class="tc">
			<input class="easyui-textbox vehInfoInput" " sid="clsbdh" name="clsbdh" prompt='请输入车辆识别代号' required="true">
			<a class="easyui-linkbutton" data-options="iconCls:'icon-search'" style="width:30px" onclick="veh.getVehinfo()"></a>
		</td>
	</tr>
	<tr>
		<td class="tl"><label>车辆型号：</label></td>
		<td class="tc">
			<input class="easyui-textbox vehInfoInput" name="clxh" " prompt='请输入车辆型号' required="true">
			<a class="easyui-linkbutton" data-options="iconCls:'icon-search'" style="width:30px"></a>
		</td>
		<td class="tl"><label>检验类别：</label></td >
		<td class="tc">
			<input id="jylb" name="jylb"   prompt='请选择检验类别' data-options="editable:false,data:comm.getBaseParames('jylb'),	valueField: 'id',
		textField: 'value'"  class="easyui-combobox vehInfoInput"  required="true" value="01">
		</td>
		<td class="tl"><label>车辆所属类别：</label>
		</td>
			<td class="tc"><input id="clsslb" data-options="editable:false,data:comm.getBaseParames('clsslb'),	valueField: 'id',
		textField: 'value'"  name="clsslb" class="easyui-combobox vehInfoInput" prompt='请选择车辆所属类别'  required="true" value="01">
		</td>
	</tr>
	
	<tr>
		<td class="tl"><label>车辆类型：</label>
		</td>
			<td class="tc"><input data-options="data:comm.getBaseParames('cllx'),	valueField: 'id',
		textField: 'value'" prompt='请选择车辆类型'  name="cllx" class="easyui-combobox vehInfoInput"  required="true">
		</td>
		<td class="tl"><label>出厂日期：</label></td>
		<td class="tc">
			<input class="easyui-datebox vehInfoInput" " prompt='请选择出厂日期' name="ccrq" required="true">
		</td>
		<td class="tl"><label>初次登记日期：</label></td>
		<td class="tc">
			<label></label><input class="easyui-datebox vehInfoInput" prompt='请输入登记日期'  name="ccdjrq" " required="true">
		</td>
	</tr>
	
	<tr>
		<td class="tl"><label>轴数：</label></td>
		<td class="tc">
			<input class="easyui-numberbox vehInfoInput" " prompt='请输入轴数' name="zs" required="true" max="6" min="1">
		</td>
		<td class="tl"><label>总质量：</label></td >
		<td class="tc">
			<input  name="zzl" class="easyui-numberbox vehInfoInput" prompt='请输入总质量'  required="true">
		</td>
		<td class="tl"><label>整备质量：</label>
		</td>
			<td class="tc"><input  name="zbzl" prompt='请输入整备质量'  class="easyui-numberbox vehInfoInput"  required="true">
		</td>
	</tr>
	
	<tr>
		<td class="tl"><label>车外廓长：</label></td>
		<td class="tc">
			<input class="easyui-numberbox vehInfoInput" " prompt='请输入车外廓长' name="cwkc" required="true">
		</td>
		<td class="tl"><label>车外廓宽：</label></td >
		<td class="tc">
			<input  name="cwkk" class="easyui-numberbox vehInfoInput"  prompt='请输入车外廓宽' required="true" >
		</td>
		<td class="tl"><label>车外廓高：</label>
		</td>
			<td class="tc"><input  name="cwkg" class="easyui-numberbox vehInfoInput"  prompt='请输入车外廓高' required="true">
		</td>
	</tr>
	
	<tr>
		<td class="tl"><label>前照灯制：</label></td >
		<td class="tc">
			<label></label><input class="easyui-combobox vehInfoInput" prompt='请选择前照灯制'   data-options="editable:false,data:comm.getBaseParames('qzdz'),	valueField: 'id',
		textField: 'value'" name="qzdz" " required="true" value="03">
		</td>
		<td class="tl"><label>核定载客：</label></td >
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput" prompt='请输入核定载客'  name="hdzk" " required="true">
		</td>
		<td class="tl"><label>使用性质：</label></td >
		<td class="tc">
			<label></label><input  data-options="editable:false,data:comm.getBaseParames('syxz'),	valueField: 'id',
		textField: 'value'" class="easyui-combobox vehInfoInput" prompt='请选择使用性质' name="syxz" " required="true">
		</td>
	</tr>
	<tr>
		<td class="tl"><label>车辆品牌：</label></td>
		<td class="tc" >
			<input class="easyui-textbox vehInfoInput" " prompt='请输入车辆品牌' name="clpp1" required="true">
		</td>
		<td class="tl"><label>驻车轴位：</label></td >
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput"  min="1"  name="zczw"  " required="true">
		</td>
		<td class="tl"><label>驱动形式：</label></td >
		<td class="tc">
			<input  name="qdxs" data-options="editable:false,data:comm.getBaseParames('qdxs'),	valueField: 'id',
		textField: 'value'" class="easyui-combobox vehInfoInput" required="true" >
		</td>
	</tr>
</table>
<div class="line_01">其他信息</div>

<table  class="basetable" cellspacing="0" cellpadding="0">
	<tr>
		<td class="tl"><label>发动机号：</label></td>
		<td class="tc">
			<label></label><input class="easyui-textbox vehInfoInput"  name="fdjh" >
		</td>
		<td class="tl"><label>车身颜色：</label></td >
		<td class="tc">
			<label></label><input data-options="editable:false,data:comm.getBaseParames('csys'),	valueField: 'id',
		textField: 'value'" class="easyui-combobox vehInfoInput"  name="csys">
		</td>
		<td class="tl"><label>燃料种类：</label></td >
		<td class="tc">
			<label></label><input data-options="editable:false,data:comm.getBaseParames('rlzl'),	valueField: 'id',
		textField: 'value'"  class="easyui-combobox vehInfoInput"  name="rlzl">
		</td>
	</tr>
	
	<tr>
		<td class="tl"><label>机动车所有人：</label></td>
		<td class="tc">
			<label></label><input class="easyui-textbox vehInfoInput"  name="syr" >
		</td>
		<td class="tl"><label>最近定检日期：</label></td >
		<td class="tc">
			<label></label><input class="easyui-datebox vehInfoInput"   name="jyrq">
		</td>
		<td class="tl"><label>检验有效期止：</label></td >
		<td class="tc">
			<label></label><input class="easyui-datebox vehInfoInput" name="jyyxqz">
		</td>
	</tr>
	
	<tr>
		<td class="tl"><label>保险终止日期：</label></td>
		<td class="tc">
			<label></label><input class="easyui-datebox vehInfoInput"  name="bxzzrq" >
		</td>
		<td class="tl"><label>额定功率：</label></td >
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput"  name="gl">
		</td>
		<td class="tl"><label>轴距：</label></td >
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput"  name="zj">
		</td>
	</tr>
	
	<tr>
		<td class="tl"><label>前轮距：</label></td>
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput"  name="qlj" >
		</td>
		<td class="tl"><label>后轮距：</label></td >
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput"  name="hlj">
		</td>
		<td class="tl"><label>主轴数：</label></td>
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput"  name="zzs" >
		</td>
	</tr>
	
	<tr>
		
		<td class="tl"><label>制动力源：</label></td >
		<td class="tc">
			<label></label><input class="easyui-combobox vehInfoInput" data-options="editable:false,data:comm.getBaseParames('zzly'),	valueField: 'id',
		textField: 'value'"  name="zzly">
		</td>
		<td class="tl"><label>远光单独调整：</label></td>
		<td class="tc">
			<label></label><input data-options="readonly:true,editable:false,data:comm.getBaseParames('ygddtz'),	valueField: 'id',
		textField: 'value'"  class="easyui-combobox vehInfoInput"  name="ygddtz" value="0" required="true">
		</td>
		<td class="tl"><label>前轴悬架形式：</label></td >
		<td class="tc">
			<label></label><input  data-options="editable:false,data:comm.getBaseParames('zxzxjxs'),	valueField: 'id',
		textField: 'value'"  class="easyui-combobox vehInfoInput"  name="zxzxjxs">
		</td>
	</tr>
	
	
	<tr>
		<td class="tl"><label>里程表读数：</label></td >
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput"  name="lcbds">
		</td>
		<td class="tl"><label>车辆用途：</label></td>
		<td class="tc">
			<input class="easyui-combobox vehInfoInput" data-options="editable:false,data:comm.getBaseParames('clyt'),	valueField: 'id',
		textField: 'value',editable:false"  prompt='请选择车辆用途' name="clyt">
		</td>
		<td class="tl"><label>用途属性：</label></td >
		<td class="tc">
			<input  name="ytsx" class="easyui-combobox vehInfoInput" data-options="editable:false,data:comm.getBaseParames('ytsx'),	valueField: 'id',
		textField: 'value',editable:false"  prompt='用途属性' >
		</td>
	</tr>
	
	<tr>
		<td class="tl"><label>机动车状态：</label></td >
		<td class="tc">
			<label></label><input class="easyui-combobox vehInfoInput" data-options="editable:false,data:comm.getBaseParames('jdczt'),	valueField: 'id',
		textField: 'value',editable:false"  name="zt" disabled="disabled">
		</td>
		<td class="tl"><label>抵押标记：</label></td>
		<td class="tc" colspan="3">
			<label></label><input class="easyui-combobox vehInfoInput" data-options="editable:false,data:comm.getBaseParames('dybj'),	valueField: 'id',
		textField: 'value',editable:false"  name="dybj" disabled="disabled" >
		</td>
	</tr>
</table>

<div class="line_01" d="lab_zhjy"  style="display: none;" >综合检测信息</div>
<table  class="basetable" cellspacing="0" cellpadding="0" id="tb_zhjy"  style="display: none;">
	<tr>
		<td class="tl"><label>委托人：</label></td >
		<td class="tc">
			<label></label><input class="easyui-textbox vehInfoInput"  name="zjwtr" >
		</td>
		<td class="tl"><label>道路运输证号：</label></td >
		<td class="tc">
			<label></label><input class="easyui-textbox vehInfoInput"  name="dlyxzh" >
		</td>
		<td class="tl"><label>综检业务类型：</label></td >
		<td class="tc">
			<label></label><input class="easyui-combobox vehInfoInput" data-options="editable:false,data:comm.getBaseParames('zjywlx'),	valueField: 'id',
		textField: 'value'"  name="zjywlx">
		</td>
	</tr>
	<tr>
		<td class="tl"><label>检测性质：</label></td >
		<td class="tc">
			<label></label><input class="easyui-combobox vehInfoInput" data-options="editable:false,data:comm.getBaseParames('jcxz'),	valueField: 'id',
		textField: 'value'"  name="jcxz">
		</td>
		<td class="tl"><label>进气方式：</label></td>
		<td class="tc">
			<label></label><input data-options="editable:false,data:comm.getBaseParames('jqfs'),	valueField: 'id',
		textField: 'value'"  class="easyui-combobox vehInfoInput"  name="jqfs" >
		</td>
		<td class="tl"><label>净功率(kw)：</label></td >
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput"  name="jgl" >
		</td>
	</tr>
	<tr>
		<td class="tl"><label>点燃式额定转速(r/min)：</label></td >
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput"  name="edzs" >
		</td>
		<td class="tl"><label>点燃式额定扭矩(NM)：</label></td >
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput"  name="ednj" >
		</td>
		<td class="tl"><label>额定扭矩功率(kw)：</label></td >
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput"  name="ednjgl" >
		</td>
	</tr>
	<tr>
		<td class="tl"><label>额定油耗：</label></td >
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput"  name="edyh" >
		</td>
		
		<td class="tl"><label>轮胎类型：</label></td >
		<td class="tc">
			<input data-options="editable:false,data:comm.getBaseParames('ltlx'),	valueField: 'id',
		textField: 'value'"  class="easyui-combobox vehInfoInput"  name="ltlx"  >
		</td>
		<td class="tl"><label>轮胎型号：</label></td>
		<td class="tc">
			<input   class="easyui-combobox vehInfoInput" class="easyui-textbox vehInfoInput"   name="ltxh"  >
		</td>
		
	</tr>
	<tr>
		<td class="tl"><label>货车车身型：</label></td >
		<td class="tc">
			<label></label><input data-options="editable:false,data:comm.getBaseParames('hccsxs'),	valueField: 'id',
		textField: 'value'"  class="easyui-combobox vehInfoInput"  name="hccsxs"  >
		</td>
		<td class="tl"><label>客车座位(铺)数：</label></td >
		<td class="tc">
			<label></label><input   class="easyui-numberbox vehInfoInput"  name="kczws"  >
		</td>
		<td class="tl"><label>排量(ml)：</label></td >
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput"  name="pl" precision=1 >
		</td>
	</tr>
	<tr>
		<td class="tl"><label>轮胎断面宽度(mm)：</label></td >
		<td class="tc">
			<label></label><input class="easyui-numberbox vehInfoInput"  name="ltdmkd" id="ltdmkd">
		</td>
		<td class="tl"><label>客车等级：</label></td >
		<td class="tc" >
			<label></label><input data-options="editable:false,data:comm.getBaseParames('kcdj'),	valueField: 'id',
		textField: 'value'"  class="easyui-combobox vehInfoInput"  name="kcdj"  >
		</td>
		
		<td class="tl"><label>转向轴数：</label></td >
		<td class="tc" >
			<label></label><input class="easyui-numberbox vehInfoInput"  name="zxzs" id="zxzs" value="1">
		</td>
	</tr>
	
	<tr>
		<td class="tl"><label>并装轴数据：</label></td >
		<td class="tc" colspan="3">
			<label></label><input   class="easyui-numberbox vehInfoInput"  name="bzzs"  >
		</td>
		
	</tr>
</table>

<input name="jyxm" id="str_jyxm" type="hidden">

<script type="text/javascript">
	function getVehInfobyBookNumber(){
		var bookNumber = $("#veh_bookNumber").textbox("getText");
		var verifyCode = $("#veh_verifyCode").textbox("getValue");

		if (bookNumber == "" || verifyCode == "") {
			$.messager.alert("提示", "请输入预约号与验证码！");
			return false;
		}

		var param = {
			"bookNumber" : bookNumber,
			"verifyCode" : verifyCode
		}
		
		$.post("/veh/veh/getVehInfoBybookNumber",param,function(data){
			var head = null;
			var body = null;
			data = $.parseJSON(data);
			console.log(data);
			if ($.isArray(data)) {
				head = data[0];
			} else {
				head = data["head"];
				body = data["body"].vehispara;
			}
			if (head["code"] == 1) {
				$.messager.progress("close");
				body['jyrq'] = body['djrq']
				body['jyyxqz'] = body['yxqz']
				$("#vehinfo").form("load", body);
				if(body['zt']!='A'){
					$.messager.alert("提示","该机动车状态："+comm.getParamNameByValue('jdczt',body['zt']));
				}
				
			}else{
				$.messager.progress("close");
				$.messager.alert("警告","无法获取预约信息。")
			}
			
		}).error(function(e){
			$.messager.alert("服务器响应错误！")
		});
		
		
	}
	
</script>
